:root {
	/* Palette - Light */
	--color-canvas: #f8fafc; /* Slate 50 */
	--color-surface-1: #ffffff; /* White */
	--color-surface-2: #f1f5f9; /* Slate 100 */
	--color-surface-overlay: #ffffff;

	/* Text */
	--color-text-primary: #0f172a; /* Slate 900 */
	--color-text-muted: #64748b; /* Slate 500 */
	--color-text-subtle: #94a3b8; /* Slate 400 */
	--color-text-inverse: #ffffff;
	--color-text-on-accent: #ffffff;
	--color-text-on-critical: #ffffff;

	/* Semantic Colors */
	--color-accent: #3b82f6; /* Blue 500 */
	--color-accent-soft: #eff6ff; /* Blue 50 */
	--color-critical: #ef4444; /* Red 500 */
	--color-critical-soft: #fef2f2; /* Red 50 */
	--color-success: #10b981; /* Emerald 500 */
	--color-success-soft: #ecfdf5; /* Emerald 50 */
	--color-warning: #f59e0b; /* Amber 500 */
	--color-warning-soft: #fffbeb; /* Amber 50 */

	/* Borders */
	--color-border-subtle: #e2e8f0; /* Slate 200 */
	--color-border-strong: #cbd5e1; /* Slate 300 */
	--focus-ring: 0 0 0 3px rgba(59, 130, 246, 0.4);

	/* Shadows & Overlays */
	--color-overlay: rgba(0, 0, 0, 0.4); /* Dimming backdrop */
	--layer-translucent-1: rgba(255, 255, 255, 0.5);
	--layer-translucent-2: rgba(255, 255, 255, 0.8);
	
	--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
	--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
	--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
	--shadow-surface: var(--shadow-sm); /* Legacy alias */
	--shadow-floating: var(--shadow-lg); /* Legacy alias */

	/* Motion */
	--motion-duration-fast: 0.15s;
	--motion-duration-normal: 0.25s;
	--motion-duration-slow: 0.4s;
	/* Legacy Aliases */
	--motion-duration-quick: var(--motion-duration-fast);
	--motion-duration-medium: var(--motion-duration-normal);

	--motion-ease-default: cubic-bezier(0.4, 0, 0.2, 1);
	--motion-ease-in: cubic-bezier(0.4, 0, 1, 1);
	--motion-ease-out: cubic-bezier(0, 0, 0.2, 1);
	--motion-ease-standard: var(--motion-ease-default);

	/* Layout & Radius */
	--radius-sm: 8px;
	--radius-md: 12px;
	--radius-lg: 16px;
	--radius-full: 9999px;
	--radius: var(--radius-lg); /* Legacy alias */

	/* Chart Colors */
	--chart-grid: rgba(15, 23, 42, 0.06);
	--chart-axis: rgba(15, 23, 42, 0.2);
	--data-series-1: #3b82f6;
	--data-series-2: #06b6d4;
	--data-series-3: #f97316;
	--data-series-4: #8b5cf6;
	--data-series-5: #ec4899;
	--data-series-6: #6366f1;
	--data-positive: #10b981;
	--data-negative: #ef4444;
	--data-neutral: #64748b;

	/* Scrollbars */
	--scrollbar-track: color-mix(in srgb, var(--color-text-primary) 8%, transparent);
	--scrollbar-thumb: color-mix(in srgb, var(--color-text-primary) 30%, transparent);
	--scrollbar-thumb-hover: color-mix(in srgb, var(--color-text-primary) 45%, transparent);
}

[data-theme='dark'] {
	/* Palette - Dark */
	--color-canvas: #0f172a; /* Slate 900 */
	--color-surface-1: #1e293b; /* Slate 800 */
	--color-surface-2: #334155; /* Slate 700 */
	--color-surface-overlay: #1e293b;

	/* Text */
	--color-text-primary: #f8fafc; /* Slate 50 */
	--color-text-muted: #94a3b8; /* Slate 400 */
	--color-text-subtle: #64748b; /* Slate 500 */
	--color-text-inverse: #0f172a;
	--color-text-on-accent: #ffffff;
	--color-text-on-critical: #ffffff;

	/* Semantic Colors */
	--color-accent: #60a5fa; /* Blue 400 */
	--color-accent-soft: rgba(59, 130, 246, 0.2);
	--color-critical: #f87171; /* Red 400 */
	--color-critical-soft: rgba(239, 68, 68, 0.2);
	--color-success: #34d399; /* Emerald 400 */
	--color-success-soft: rgba(52, 211, 153, 0.2);
	--color-warning: #fbbf24; /* Amber 400 */
	--color-warning-soft: rgba(251, 191, 36, 0.2);

	/* Borders */
	--color-border-subtle: #334155; /* Slate 700 */
	--color-border-strong: #475569; /* Slate 600 */
	--focus-ring: 0 0 0 3px rgba(96, 165, 250, 0.4);

	/* Shadows & Overlays */
	--color-overlay: rgba(0, 0, 0, 0.7);
	--layer-translucent-1: rgba(30, 41, 59, 0.5);
	--layer-translucent-2: rgba(30, 41, 59, 0.8);

	--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.5);
	--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.5), 0 2px 4px -2px rgb(0 0 0 / 0.5);
	--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5), 0 4px 6px -4px rgb(0 0 0 / 0.5);

	/* Chart Colors */
	--chart-grid: rgba(148, 163, 184, 0.1);
	--chart-axis: rgba(148, 163, 184, 0.3);
	--data-series-1: #60a5fa;
	--data-series-2: #22d3ee;
	--data-series-3: #fb923c;
	--data-series-4: #a78bfa;
	--data-series-5: #f472b6;
	--data-series-6: #818cf8;
	--data-positive: #34d399;
	--data-negative: #f87171;
	--data-neutral: #94a3b8;

	/* Scrollbars */
	--scrollbar-track: color-mix(in srgb, var(--color-surface-2) 70%, transparent);
	--scrollbar-thumb: color-mix(in srgb, var(--color-text-muted) 55%, transparent);
	--scrollbar-thumb-hover: color-mix(in srgb, var(--color-text-primary) 45%, transparent);
}

html {
	scroll-behavior: smooth;
	background: var(--color-canvas);
}

@media (prefers-reduced-motion: reduce) {
	:root {
		--motion-duration-fast: 0s;
		--motion-duration-normal: 0s;
		--motion-duration-slow: 0s;
		--motion-duration-quick: 0s;
		--motion-duration-medium: 0s;
	}

	html {
		scroll-behavior: auto;
	}
}

/* Global Styles */
* { box-sizing: border-box; }

body {
	margin: 0;
	font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
	background: var(--color-canvas);
	color: var(--color-text-primary);
	transition: background-color var(--motion-duration-medium) var(--motion-ease-standard),
				color var(--motion-duration-medium) var(--motion-ease-standard);
	overflow: hidden; /* App Shell handles scroll */
}

:where(
	body,
	.app-main,
	.assignment-board__sidebar,
	.assignment-table-wrapper,
	.member-list,
	.nav,
	.modal-panel,
	.edit-modal .modal-content,
	.modern-textarea,
	.activity-feed__list
) {
	scrollbar-width: thin;
	scrollbar-color: var(--scrollbar-thumb) var(--scrollbar-track);
	scroll-behavior: smooth;
	scrollbar-gutter: stable both-edges;
}

:where(
	body,
	.app-main,
	.assignment-board__sidebar,
	.assignment-table-wrapper,
	.member-list,
	.nav,
	.modal-panel,
	.edit-modal .modal-content,
	.modern-textarea,
	.activity-feed__list
)::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

:where(
	body,
	.app-main,
	.assignment-board__sidebar,
	.assignment-table-wrapper,
	.member-list,
	.nav,
	.modal-panel,
	.edit-modal .modal-content,
	.modern-textarea,
	.activity-feed__list
)::-webkit-scrollbar-track {
	background: var(--scrollbar-track);
	border-radius: 999px;
}

:where(
	body,
	.app-main,
	.assignment-board__sidebar,
	.assignment-table-wrapper,
	.member-list,
	.nav,
	.modal-panel,
	.edit-modal .modal-content,
	.modern-textarea,
	.activity-feed__list
)::-webkit-scrollbar-thumb {
	background: var(--scrollbar-thumb);
	border-radius: 999px;
	border: 2px solid transparent;
	background-clip: padding-box;
	transition: background-color var(--motion-duration-fast) var(--motion-ease-default);
}

:where(
	body,
	.app-main,
	.assignment-board__sidebar,
	.assignment-table-wrapper,
	.member-list,
	.nav,
	.modal-panel,
	.edit-modal .modal-content,
	.modern-textarea,
	.activity-feed__list
)::-webkit-scrollbar-thumb:hover {
	background: var(--scrollbar-thumb-hover);
}

a { color: inherit; text-decoration: none; }

/* Layout */
.app-shell { display: grid; grid-template-rows: auto 1fr; height: 100vh; }
.app-header {
	display: flex; align-items: center; gap: 16px; padding: 0 20px;
	background: var(--color-surface-2);
	border-bottom: 1px solid var(--color-border-subtle);
	backdrop-filter: blur(22px);
	flex-wrap: wrap;
	min-height: 56px;
}
.brand { font-weight: 700; letter-spacing: -0.02em; font-size: 18px; display: flex; align-items: center; gap: 8px; flex-shrink: 0; }
.brand .material-symbol { font-size: 20px; }
.nav { display: flex; gap: 12px; overflow-x: auto; -webkit-overflow-scrolling: touch; padding-bottom: 2px; flex: 1; min-width: 0; }
.nav a {
	padding: 8px 14px;
	border-radius: 10px;
	color: var(--color-text-muted);
	transition:
		color var(--motion-duration-quick) var(--motion-ease-standard),
		background-color var(--motion-duration-quick) var(--motion-ease-standard),
		transform var(--motion-duration-quick) var(--motion-ease-standard);
	white-space: nowrap;
}
.nav a:hover { transform: translateY(-1px); }
.nav a.active { color: var(--color-text-primary); background: var(--color-accent-soft); font-weight: 600; }

.app-main {
	padding: 24px;
	overflow: auto;
	display: flex;
	justify-content: center;
}
.app-main__page {
	width: min(1280px, 100%);
	margin: 0 auto;
	display: flex;
	flex-direction: column;
	gap: 24px;
}
@media (max-width: 1280px) {
	.app-main { padding: 20px; }
	.app-main__page { gap: 20px; }
}
@media (max-width: 960px) {
	.app-main { padding: 16px; }
	.app-main__page { width: 100%; gap: 16px; }
}

/* Components */
.panel {
	background: var(--color-surface-1);
	border: 1px solid var(--color-border-subtle);
	border-radius: var(--radius);
	box-shadow: var(--shadow-surface);
	backdrop-filter: blur(24px);
	transition: background-color var(--motion-duration-normal) var(--motion-ease-default), 
				border-color var(--motion-duration-normal) var(--motion-ease-default), 
				box-shadow var(--motion-duration-normal) var(--motion-ease-default);
}
.row { display: flex; gap: 16px; }
.col { display: flex; flex-direction: column; gap: 12px; }
.btn {
	padding: 8px 16px;
	background: var(--color-surface-1);
	border: 1px solid var(--color-border-subtle);
	color: var(--color-text-primary);
	border-radius: 12px;
	cursor: pointer;
	font-weight: 500;
	transition: all var(--motion-duration-fast) var(--motion-ease-default);
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 8px;
}
.btn.primary { background: var(--color-accent); color: var(--color-text-on-accent); border-color: transparent; box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.3); }
[data-theme='dark'] .btn.primary { box-shadow: 0 4px 6px -1px rgba(96, 165, 250, 0.3); }

.btn.critical { background: var(--color-critical); color: var(--color-text-on-critical); border-color: transparent; }
.btn.ghost { background: transparent; border-color: transparent; color: var(--color-text-muted); }
.btn.ghost:hover { background: var(--color-surface-2); color: var(--color-text-primary); }

.absence-remove-btn {
	width: 32px;
	height: 32px;
	padding: 0;
	border-radius: 10px;
	border: 1px solid var(--color-border-strong);
	background: var(--color-surface-2);
	color: var(--color-text-muted);
	box-shadow: var(--shadow-sm);
}

.absence-remove-btn .material-symbol {
	font-size: 18px;
}

.absence-remove-btn:hover {
	background: var(--color-critical-soft);
	border-color: var(--color-critical);
	color: var(--color-critical);
}

.btn:hover { transform: scale(1.02); opacity: 0.94; }
.btn-remove {
	width: 28px; height: 28px; padding: 0; border: 1px solid var(--color-border-subtle);
	background: var(--layer-translucent-1); color: var(--color-text-muted); border-radius: 50%;
	cursor: pointer; display: grid; placeItems: center;
}
.btn-remove:hover { background: var(--color-critical); color: var(--color-text-on-critical); border-color: transparent; }
.badge { display: inline-flex; align-items: center; gap: 6px; border: 1px solid var(--color-border-subtle); border-radius: 999px; padding: 2px 10px; font-size: 12px; color: var(--color-text-muted); background: var(--layer-translucent-1); transition: background-color var(--motion-duration-fast) var(--motion-ease-default), color var(--motion-duration-fast) var(--motion-ease-default), border-color var(--motion-duration-fast) var(--motion-ease-default); }
.badge.accent { background: var(--color-accent-soft); color: var(--color-accent); border-color: transparent; }
.badge.critical { background: var(--color-critical-soft); color: var(--color-critical); border-color: transparent; }
.badge.success { background: var(--color-success-soft); color: var(--color-success); border-color: transparent; }
.badge.warning { background: var(--color-warning-soft); color: var(--color-warning); border-color: transparent; }

.muted { color: var(--color-text-muted); }

/* Table */
.table { width: 100%; border-collapse: collapse; background: var(--color-surface-1); border-radius: var(--radius); overflow: hidden; }
.table th, .table td { border: 1px solid var(--color-border-subtle); padding: 12px 14px; }
.table thead th { background: var(--color-surface-2); text-align: left; font-weight: 600; color: var(--color-text-muted); }
.table tbody tr:nth-child(even) td { background: var(--color-canvas); }

@media (max-width: 768px) {
	.table, .table thead, .table tbody, .table th, .table td, .table tr { display: block; }
	.table thead tr { position: absolute; top: -9999px; left: -9999px; }
	.table tr { border: 1px solid var(--color-border-subtle); border-radius: 12px; margin-bottom: 12px; background: var(--color-surface-1); padding: 12px; }
	.table td { border: none; position: relative; padding: 8px 0 8px 35%; min-height: 40px; display: flex; align-items: center; }
	.table td:first-child { padding: 8px 0; font-weight: 700; font-size: 16px; border-bottom: 1px solid var(--color-border-subtle); margin-bottom: 8px; width: 100%; justify-content: flex-start; }
	.table td:not(:first-child):before { position: absolute; top: 0; left: 0; width: 30%; padding-right: 10px; white-space: nowrap; font-weight: 600; color: var(--color-text-muted); content: attr(data-label); display: flex; align-items: center; height: 100%; }
}

/* Assignment Board */
.dnd-container { display: grid; grid-template-columns: minmax(240px, 320px) minmax(0, 1fr); gap: 16px; align-items: start; width: 100%; }
.assignment-board__sidebar {
	height: calc(100vh - 56px);
	position: sticky;
	top: 56px;
	display: flex;
	flex-direction: column;
	padding-right: 16px;
	overflow-y: auto;
	border-right: 1px solid var(--color-border-subtle);
}
.assignment-board__main { min-height: calc(100vh - 56px); display: flex; flex-direction: column; gap: 16px; min-width: 0; }
.assignment-board__hint { font-size: 13px; color: var(--color-text-muted); margin: 0 0 12px; display: flex; align-items: center; gap: 6px; }
.member-item { padding: 8px 12px; border: 1px solid transparent; border-radius: 999px; margin-bottom: 8px; background: var(--color-surface-1); border: 1px solid var(--color-border-subtle); transition: all var(--motion-duration-fast) var(--motion-ease-default); }
.member-item:hover { background: var(--color-surface-2); transform: translateY(-1px); }
.member-item--selected { background: var(--color-accent); color: var(--color-text-on-accent); border-color: transparent; box-shadow: var(--shadow-sm); }
.member-item--selected:hover { background: var(--color-accent); transform: none; filter: brightness(1.05); }
.role-cell { width: 100%; min-height: 48px; padding: 4px 8px; background: var(--color-surface-1); border-radius: 12px; border: 1px dashed var(--color-border-subtle); transition: all var(--motion-duration-normal) var(--motion-ease-default); display: flex; align-items: center; gap: 8px; justify-content: space-between; }
.role-cell.over { border-color: var(--color-accent); background: var(--color-accent-soft); transform: scale(1.01); }
.role-slot { flex: 1; min-width: 0; border: none; background: transparent; font: inherit; color: inherit; padding: 6px 10px; border-radius: 10px; cursor: pointer; display: flex; align-items: center; justify-content: center; text-align: center; }
.role-slot:focus-visible { outline: var(--focus-ring); outline-offset: 2px; }
.role-slot .muted { width: 100%; display: block; font-size: 13px; }
.role-cell .btn-remove { flex-shrink: 0; }
.role-cell-group { display: flex; gap: 8px; flex-wrap: wrap; width: 100%; }
.role-cell-group .role-cell { flex: 1 1 150px; min-width: 0; }

/* Toolbar */
.toolbar { display: flex; gap: 8px; align-items: center; justify-content: space-between; margin-bottom: 16px; color: var(--color-text-muted); flex-wrap: wrap; }

.assignment-table-wrapper { width: 100%; overflow-x: auto; }
.assignment-table { table-layout: fixed; width: 100%; border-collapse: collapse; }
.assignment-table th, .assignment-table td { text-align: center; }
.assignment-table th:first-child, .assignment-table td:first-child { width: 64px; text-align: left; }

.dnd-container > .activity-feed { grid-column: 1 / -1; }

@media (max-width: 1100px) {
	.dnd-container { grid-template-columns: 1fr; }
	.assignment-board__sidebar {
		height: auto;
		position: static;
		overflow-y: visible;
		border-right: none;
		box-shadow: none;
		padding-right: 0;
		border-bottom: 1px solid var(--color-border-subtle);
		padding-bottom: 12px;
		margin-bottom: 8px;
	}
}

/* Mobile Responsive Styles for Assignment Board */
@media (max-width: 768px) {
	.dnd-container { grid-template-columns: 1fr; gap: 12px; }
	.assignment-board__sidebar {
		height: auto;
		position: static;
		overflow-y: visible;
		border-right: none;
		box-shadow: none;
		padding-right: 0;
		border-bottom: 1px solid var(--color-border-subtle);
		padding-bottom: 12px;
		margin-bottom: 4px;
	}
	.assignment-board__main { min-height: auto; }
	.member-list { display: flex; gap: 8px; overflow-x: auto; padding-bottom: 4px; flex-wrap: nowrap; }
	.member-item { margin-bottom: 0; white-space: nowrap; flex-shrink: 0; }
	.hint-desktop { display: none; }
	.hint-mobile { display: inline !important; }
	.role-cell-group .role-cell { flex-basis: 140px; }
	.assignment-table-wrapper { overflow: visible; }
	.role-cell-group { display: block; }
}

/* Settings & Members Grid/Flex */
.settings-choice-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 16px; }
.settings-choice-card {
	display: flex; align-items: flex-start; gap: 12px; padding: 16px; border-radius: 16px; border: 1px solid var(--color-border-subtle); background: var(--color-surface-1); cursor: pointer; transition: all var(--motion-duration-normal) var(--motion-ease-default); position: relative;
}
.settings-choice-card:hover { border-color: var(--color-border-strong); transform: translateY(-2px); }
.settings-choice-card--active { border-color: var(--color-accent); background: var(--color-accent-soft); }
.settings-choice-card__icon { width: 40px; height: 40px; border-radius: 10px; background: var(--color-surface-2); display: flex; align-items: center; justify-content: center; font-size: 20px; color: var(--color-text-primary); }
.settings-choice-card__input { position: absolute; opacity: 0; pointer-events: none; }
.settings-choice-card__text { display: flex; flex-direction: column; gap: 4px; }
.settings-choice-card__title { font-weight: 600; color: var(--color-text-primary); }
.settings-choice-card__description { font-size: 13px; color: var(--color-text-muted); line-height: 1.4; }

.members-layout { display: flex; gap: 24px; align-items: flex-start; }
@media (max-width: 900px) {
	.members-layout { flex-direction: column; gap: 16px; }
	.members-layout > .col { width: 100%; }
}

/* Modal & Toast */
.modal-panel {
	width: 680px;
	max-width: 95vw;
	max-height: 90vh;
	display: flex;
	flex-direction: column;
	padding: 24px;
	border-radius: 20px;
	box-shadow: var(--shadow-lg);
	background: var(--color-surface-1);
}
@media (max-width: 480px) {
	.modal-panel {
		padding: 16px;
		width: 100%;
		height: 100%;
		max-height: 100%;
		border-radius: 0;
	}
}

.toast-center { position: fixed; top: 16px; right: 16px; display: flex; flex-direction: column; gap: 10px; z-index: 999; max-width: 320px; width: calc(100% - 32px); }
.toast {
	display: flex; align-items: flex-start; gap: 10px; padding: 12px 14px;
	background: var(--color-surface-1); border: 1px solid var(--color-border-subtle);
	border-radius: 14px; box-shadow: var(--shadow-md);
}
.toast__icon { font-size: 18px; line-height: 1; display: flex; align-items: center; justify-content: center; }
.toast__icon .material-symbol { font-size: 20px; }
.toast__close { background: none; border: none; color: var(--color-text-muted); cursor: pointer; padding: 0; }

/* Utilities */
.material-symbol {
	font-family: 'Material Symbols Outlined';
	font-weight: normal;
	font-style: normal;
	font-size: 1em;
	line-height: 1;
	letter-spacing: normal;
	text-transform: none;
	display: inline-block;
	white-space: nowrap;
	word-wrap: normal;
	direction: ltr;
	-webkit-font-feature-settings: 'liga';
	-webkit-font-smoothing: antialiased;
	font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
	color: inherit;
	vertical-align: middle;
}
.theme-toggle { display: inline-flex; align-items: center; justify-content: center; padding-inline: 10px; color: var(--color-text-primary); margin-left: auto; cursor: pointer; }

/* Activity Feed */
.activity-feed__header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; }
.activity-feed__title { font-weight: 700; font-size: 18px; }
.activity-feed__list { list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 8px; }
.activity-feed__item {
	display: flex; gap: 12px; padding: 12px;
	background: var(--color-surface-1);
	border: 1px solid var(--color-border-subtle);
	border-radius: 12px;
	transition: border-color var(--motion-duration-fast) var(--motion-ease-default);
	position: relative;
}
.activity-feed__item:hover { border-color: var(--color-border-strong); }
.activity-feed__item:hover .activity-feed__remove { opacity: 1; }

.activity-feed__icon-wrapper {
	width: 36px; height: 36px; flex-shrink: 0; border-radius: 10px;
	display: flex; align-items: center; justify-content: center;
	font-size: 20px;
}
.activity-feed__icon-wrapper--assignment { background: var(--color-accent-soft); color: var(--color-accent); }
.activity-feed__icon-wrapper--assignment-remove { background: var(--color-surface-2); color: var(--color-text-muted); }

.activity-feed__icon-wrapper--absence { background: var(--color-critical-soft); color: var(--color-critical); }
.activity-feed__icon-wrapper--absence-remove { background: var(--color-surface-2); color: var(--color-text-muted); }

.activity-feed__icon-wrapper--finalize { background: var(--color-success-soft); color: var(--color-success); }

.activity-feed__icon-wrapper--member { background: var(--color-surface-2); color: var(--color-text-primary); }
.activity-feed__icon-wrapper--member-remove { background: var(--color-critical-soft); color: var(--color-critical); }

.activity-feed__icon-wrapper--system { background: var(--color-surface-2); color: var(--color-text-muted); }

.activity-feed__content { flex: 1; min-width: 0; display: flex; flex-direction: column; gap: 2px; }
.activity-feed__content-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 2px; }
.activity-feed__type-label { font-size: 12px; font-weight: 600; color: var(--color-text-muted); }
.activity-feed__time { font-size: 12px; color: var(--color-text-muted); }

.activity-feed__item-title { font-weight: 600; font-size: 14px; color: var(--color-text-primary); line-height: 1.4; }
.activity-feed__description { font-size: 13px; color: var(--color-text-muted); line-height: 1.4; margin-top: 2px; }

.activity-feed__remove {
	background: transparent; border: none; padding: 4px;
	color: var(--color-text-subtle); cursor: pointer;
	border-radius: 4px; display: flex;
	opacity: 0; transition: all 0.2s;
}
.activity-feed__remove:hover { background: var(--color-surface-2); color: var(--color-critical); }
.activity-feed__remove .material-symbol { font-size: 16px; }

/* Mobile: Always show remove button */
@media (max-width: 768px) {
	.activity-feed__remove { opacity: 1; }
}

.activity-feed__empty { text-align: center; padding: 32px 16px; font-size: 14px; color: var(--color-text-muted); background: var(--color-surface-1); border-radius: 12px; border: 1px dashed var(--color-border-subtle); }

/* Assignment Summary */
.assignment-summary__header { display: flex; flex-wrap: wrap; gap: 16px; align-items: flex-start; justify-content: space-between; margin-bottom: 16px; }
.assignment-summary__title { font-weight: 700; font-size: 18px; margin-bottom: 4px; }
.assignment-summary__meta { font-size: 13px; }
.assignment-summary__metrics { display: flex; gap: 16px; flex-wrap: wrap; }
.assignment-summary__metric { display: flex; flex-direction: column; gap: 2px; }
.assignment-summary__metric-label { font-size: 12px; color: var(--color-text-muted); }
.assignment-summary__metric-value { font-weight: 600; font-size: 16px; }
.assignment-summary__metric-value.danger { color: var(--color-critical); }
.assignment-summary__metric-value.warning { color: var(--color-warning); }
.assignment-summary__progress { margin-bottom: 16px; }
.assignment-summary__progress-bar { height: 8px; background: var(--color-surface-2); border-radius: 999px; overflow: hidden; margin-bottom: 6px; }
.assignment-summary__progress-fill { height: 100%; background: var(--color-accent); transition: width 0.3s ease; }
.assignment-summary__progress-label { font-size: 12px; text-align: right; }
.assignment-summary__actions { display: flex; justify-content: flex-end; }

/* Member List */
/* Default vertical */
.member-list { display: flex; flex-direction: column; }
/* Horizontal variant if needed */
.member-list.horizontal { flex-direction: row; flex-wrap: wrap; gap: 8px; }
