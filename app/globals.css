@import "tailwindcss";

/* 
  Typography Scale Override (시원한 가독성)
  @layer 외부 정의 -> @layer theme보다 우선순위 높음
*/
:root {
    --text-xs: 0.9375rem;    /* 15px */
    --text-sm: 1rem;         /* 16px */
    --text-base: 1.125rem;   /* 18px */
    --text-lg: 1.25rem;      /* 20px */
    --text-xl: 1.5rem;       /* 24px */
    --text-2xl: 2rem;        /* 32px */
    --text-3xl: 2.25rem;     /* 36px */
}

/* 
  Theme Configuration 
  - Apple + Linear Inspired
  - Semantic Tokens
*/
@theme {
    /* ══════════════════════════════════════════════════════════════
       TYPOGRAPHY SCALE (Accessibility + Responsive)
       - rem 단위 사용: 브라우저 설정 존중
       - 모바일: 16px 기준 (편안한 읽기)
       - 데스크톱: 14px 기준 (정보 밀도)
       ══════════════════════════════════════════════════════════════ */
    --font-sans: 'Pretendard Variable', Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', sans-serif;
    --font-mono: 'JetBrains Mono', 'Fira Code', monospace;

    /* rem 기반 타이포그래피 (시원한 가독성 스케일) */
    /* Tailwind v4: --font-size-* 형식으로 text-* 유틸리티 오버라이드 */
    --font-size-xs: 0.9375rem;    /* 15px - Labels, timestamps */
    --font-size-sm: 1rem;         /* 16px - Secondary text */
    --font-size-base: 1.125rem;   /* 18px - Body */
    --font-size-lg: 1.25rem;      /* 20px - Subheadings */
    --font-size-xl: 1.5rem;       /* 24px - Section titles */
    --font-size-2xl: 2rem;        /* 32px - Page titles */
    --font-size-3xl: 2.25rem;     /* 36px */
    --font-size-4xl: 2.5rem;      /* 40px */

    /* 터치 영역 (Apple HIG: 최소 44pt) */
    --touch-target-min: 2.75rem;
    /* 44px */
    --input-height-mobile: 2.75rem;
    /* 44px */
    --input-height-desktop: 2.25rem;
    /* 36px */
    --button-height-mobile: 2.75rem;
    /* 44px */
    --button-height-desktop: 2.25rem;
    /* 36px */

    /* Radius - Smooth & Modern (DESIGN_SYSTEM.md) */
    --radius-sm: 0.375rem;
    /* 6px */
    --radius-md: 0.625rem;
    /* 10px */
    --radius-lg: 0.875rem;
    /* 14px */
    --radius-xl: 1.25rem;
    /* 20px */

    /* Colors (Mapping to Semantic Vars) */
    --color-canvas: var(--color-canvas);
    --color-surface: var(--color-surface);
    --color-surface-elevated: var(--color-surface-elevated);

    --color-label-primary: var(--color-label-primary);
    --color-label-secondary: var(--color-label-secondary);
    --color-label-tertiary: var(--color-label-tertiary);

    --color-border-subtle: var(--color-border-subtle);
    --color-border-default: var(--color-border-default);

    --color-accent: var(--color-accent);
    --color-accent-soft: var(--color-accent-soft);

    --color-success: var(--color-success);
    --color-warning: var(--color-warning);
    --color-danger: var(--color-danger);

    /* Animation */
    --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* 
  Semantic Variables Definition
  - Light: Clean, Crisp, White/Slate
  - Dark: Deep, Vibrant, Black/Zinc
*/
:root {
    /* Light Mode */
    --color-canvas: #ffffff;
    /* Pure white or VERY light gray */
    --color-surface: #f9fafb;
    /* Slight contrast for panels */
    --color-surface-elevated: #ffffff;

    --color-label-primary: #111827;
    --color-label-secondary: #6b7280;
    --color-label-tertiary: #9ca3af;

    --color-border-subtle: #f3f4f6;
    --color-border-default: #e5e7eb;

    --color-accent: #2563eb;
    /* Blue 600 */
    --color-accent-soft: #eff6ff;
    /* Blue 50 */

    --color-success: #10b981;
    --color-warning: #f59e0b;
    --color-danger: #ef4444;
}

/* Dark Mode Override */
@custom-variant dark (&:where([data-theme="dark"], [data-theme="dark"] *));

[data-theme="dark"] {
    /* Dark Mode */
    --color-canvas: #09090b;
    /* Zinc 950 - Modern Dark */
    --color-surface: #121214;
    --color-surface-elevated: #1c1c1f;

    --color-label-primary: #d4d4d8;
    /* Zinc-300 - 눈부심 방지 */
    --color-label-secondary: #a1a1aa;
    --color-label-tertiary: #52525b;

    --color-border-subtle: #27272a;
    --color-border-default: #3f3f46;

    --color-accent: #3b82f6;
    /* Blue 500 */
    --color-accent-soft: #172554;
    /* Blue 950 */
}

/* Base Reset & Utilities */
@layer base {
    * {
        @apply border-border-default;
    }

    /* Global Scrollbar Styling (Apply to ALL elements) */
    * {
        scrollbar-width: thin;
        scrollbar-color: var(--color-border-default) transparent;
    }

    *::-webkit-scrollbar {
        width: 5px;
        height: 5px;
    }

    *::-webkit-scrollbar-track {
        background: transparent;
    }

    *::-webkit-scrollbar-thumb {
        background: var(--color-border-default);
        border-radius: 10px;
    }

    *::-webkit-scrollbar-thumb:hover {
        background: var(--color-label-tertiary);
    }

    body {
        @apply bg-canvas text-label-primary font-sans antialiased;
        line-height: 1.625; /* leading-relaxed */
        letter-spacing: -0.01em;
    }

    /* Typography Scale Override (시원한 가독성) */
    .text-xs { font-size: 0.9375rem !important; }  /* 15px */
    .text-sm { font-size: 1rem !important; }       /* 16px */
    .text-base { font-size: 1.125rem !important; } /* 18px */
    .text-lg { font-size: 1.25rem !important; }    /* 20px */
    .text-xl { font-size: 1.5rem !important; }     /* 24px */
    .text-2xl { font-size: 2rem !important; }      /* 32px */
}

@layer utilities {
    .flex-center {
        @apply flex items-center justify-center;
    }

    /* Glassmorphism Utility */
    .glass {
        @apply bg-canvas/80 backdrop-blur-md border border-border-subtle;
    }

    /* Spring Animation Utility */
    .transition-spring {
        transition-timing-function: var(--ease-spring);
    }

    /* Skeleton Shimmer Effect */
    .skeleton-shimmer {
        position: relative;
        overflow: hidden;
    }

    .skeleton-shimmer::after {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        transform: translateX(-100%);
        background: linear-gradient(90deg,
                transparent,
                rgba(255, 255, 255, 0.1),
                transparent);
        animation: shimmer 2s infinite;
    }

    /* Hide scrollbar but allow scroll */
    .scrollbar-hide {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    .scrollbar-hide::-webkit-scrollbar {
        display: none;
    }
}

/* Keyframe Animations */
@keyframes shimmer {
    100% {
        transform: translateX(100%);
    }
}

/* Smooth page transitions */
@media (prefers-reduced-motion: no-preference) {
    html {
        scroll-behavior: smooth;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}