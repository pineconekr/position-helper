:root {
    --legacy-scrollbar-track: rgba(15, 23, 42, 0.08);
    --legacy-scrollbar-thumb: rgba(15, 23, 42, 0.35);
    --legacy-scrollbar-thumb-hover: rgba(15, 23, 42, 0.55);
}

html {
    scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
    html {
        scroll-behavior: auto;
    }
}

.code-block {
  background: #0f172a;
  color: #e5e7eb;
  border-radius: 10px;
  padding: 12px 14px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 12.5px;
  line-height: 1.5;
  border: 1px solid rgba(148,163,184,0.2);
}

.code-block .log-line { display: flex; gap: 4px; }
.code-block .log-ts { color: #94a3b8; font-weight: 500; }
.code-block .log-msg.info { color: #e5e7eb; }
.code-block .log-msg.success { color: #22c55e; }
.code-block .log-msg.warning { color: #f59e0b; }
.code-block .log-msg.error { color: #ef4444; }
/* Base styles */
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    margin: 0;
    padding: 20px;
    background-color: #f9f9f9; /* Default light background */
    color: #1d1d1f; /* Default light text */
    transition: background-color 0.3s ease, color 0.3s ease;
}

:where(
    body,
    .custom-tabs .tabs-wrapper,
    .tab-content-wrapper,
    .edit-modal .modal-content,
    .modern-textarea,
    .scrollable-panel,
    .team-activity-log
) {
    scrollbar-width: thin;
    scrollbar-color: var(--legacy-scrollbar-thumb) var(--legacy-scrollbar-track);
    scrollbar-gutter: stable both-edges;
    scroll-behavior: smooth;
}

:where(
    body,
    .custom-tabs .tabs-wrapper,
    .tab-content-wrapper,
    .edit-modal .modal-content,
    .modern-textarea,
    .scrollable-panel,
    .team-activity-log
)::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

:where(
    body,
    .custom-tabs .tabs-wrapper,
    .tab-content-wrapper,
    .edit-modal .modal-content,
    .modern-textarea,
    .scrollable-panel,
    .team-activity-log
)::-webkit-scrollbar-track {
    background: var(--legacy-scrollbar-track);
    border-radius: 999px;
}

:where(
    body,
    .custom-tabs .tabs-wrapper,
    .tab-content-wrapper,
    .edit-modal .modal-content,
    .modern-textarea,
    .scrollable-panel,
    .team-activity-log
)::-webkit-scrollbar-thumb {
    background: var(--legacy-scrollbar-thumb);
    border-radius: 999px;
    border: 2px solid transparent;
    background-clip: padding-box;
    transition: background-color 0.2s ease;
}

:where(
    body,
    .custom-tabs .tabs-wrapper,
    .tab-content-wrapper,
    .edit-modal .modal-content,
    .modern-textarea,
    .scrollable-panel,
    .team-activity-log
)::-webkit-scrollbar-thumb:hover {
    background: var(--legacy-scrollbar-thumb-hover);
}

#app-container {
    max-width: 1200px;
    margin: auto;
    /* Theme-dependent styles will be applied directly here or via class */
}

/* Light theme base styles (already set on body) */
h1, h4 {
    color: #1d1d1f;
}

hr {
    border: none;
    border-top: 1px solid #e0e0e0;
    margin: 25px 0;
}

/* Dark theme adjustments - Target body.dark-theme-active */
body.dark-theme-active {
    background-color: #121212; /* Dark background */
    color: #e0e0e0; /* Light grey text */
    --legacy-scrollbar-track: rgba(255, 255, 255, 0.12);
    --legacy-scrollbar-thumb: rgba(255, 255, 255, 0.45);
    --legacy-scrollbar-thumb-hover: rgba(255, 255, 255, 0.65);
}

/* Update selectors to be based on body.dark-theme-active */
body.dark-theme-active h1, 
body.dark-theme-active h4 {
    color: #f5f5f7; /* Off-white */
}

body.dark-theme-active hr {
    border-top: 1px solid #333333;
}

/* Typography */
h1 {
    font-size: 2.5em;
    font-weight: 600;
    margin-bottom: 10px;
}

h4 {
    font-size: 1.8em;
    font-weight: 700;
    margin-top: 50px;
    margin-bottom: 20px;
}

p {
    font-size: 1.05em;
    color: #6e6e73; /* Default light theme text color */
    line-height: 1.6;
    margin-bottom: 20px;
}

body.dark-theme-active p {
    color: #a0a0a5; /* Lighter grey for dark theme */
}

/* Card component style */
.card {
    background: rgba(255, 255, 255, 0.78);
    border: none;
    border-radius: 14px;
    padding: 24px;
    margin: 24px 0; /* 상하 여백 증가 */
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.06); /* 미세한 섀도우 */
    -webkit-backdrop-filter: saturate(180%) blur(10px);
    backdrop-filter: saturate(180%) blur(10px); /* 맥OS 패널 느낌 */
    transition: background-color 0.3s ease, box-shadow 0.3s ease, color 0.3s ease;
    overflow: hidden;
}

body.dark-theme-active .card {
    background: rgba(28, 28, 30, 0.72);
    border: none;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
}

/* 카드 간 분리선 (연한 iOS 라인) */
.tab-content .card + .card {
    border-top: 1px solid #D1D1D6;
}
body.dark-theme-active .tab-content .card + .card {
    border-top: 1px solid #2C2C2E;
}

/* 접기/펼치기 애니메이션을 위한 스타일 */
.collapse-content {
    overflow: hidden;
    transition: max-height 0.5s ease-in-out, opacity 0.4s ease-in-out;
    max-height: 2000px; /* 충분히 큰 값으로 설정 */
    opacity: 1;
}

.collapse-content.collapsed {
    max-height: 0;
    opacity: 0;
    margin-top: 0;
    padding-top: 0;
}

.collapse-content.expanded {
    margin-top: 15px;
}

/* Button Styles */
.button, #suggest-button, #save-button, .upload-button a {
    background-color: #007aff;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 12px;
    font-size: 1em;
    font-weight: 500;
    cursor: pointer;
    transition: background-color 0.2s ease;
    text-decoration: none;
    display: inline-block;
}

.button:hover, #suggest-button:hover, #save-button:hover, .upload-button a:hover {
    background-color: #005ecb;
    transform: scale(1.02);
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Secondary button styles */
.button.secondary {
    background-color: transparent;
    color: #6e6e73;
    border: none;
    padding: 8px 12px;
    border-radius: 6px;
    font-size: 0.9em;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
    text-decoration: none;
    display: inline-block;
}

.button.secondary:hover {
    background-color: transparent;
    color: #007aff;
    transform: scale(1.02);
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Dark theme for secondary buttons */
body.dark-theme-active .button.secondary {
    color: #a0a0a5;
}

body.dark-theme-active .button.secondary:hover {
    background-color: transparent;
    color: #4a9eff;
    transform: scale(1.02);
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* 확인(primary) 버튼을 더 가볍게: 더 둥글고 가는 텍스트 느낌 */
.button.primary {
    border-radius: 12px;
    font-weight: 500;
}

/* BooleanSwitch 대비 강화 (저시력/색약 배려) */
.daq-booleanswitch .switch { box-shadow: 0 0 0 2px rgba(0,0,0,0.06) inset; }
.daq-booleanswitch .handle { box-shadow: 0 1px 2px rgba(0,0,0,0.3); }
.daq-booleanswitch .switch.checked { background-color: #007aff !important; }
body.dark-theme-active .daq-booleanswitch .switch { box-shadow: 0 0 0 2px rgba(255,255,255,0.08) inset; }

/* Emphasis levels for hierarchy */
.button.primary { /* strongest emphasis */
    background-color: #007aff;
    color: #fff;
}
.button.primary:hover { 
    background-color: #005ecb; 
    transform: scale(1.02);
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}
.button.danger { /* destructive */
    background-color: #ff3b30; /* iOS Red */
    color: #ffffff;
}
.button.danger:hover { 
    background-color: #d13027; 
    transform: scale(1.02);
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}
.button.danger:focus-visible { outline: 3px solid #ffd3d3; outline-offset: 2px; }
.button.tertiary { /* low emphasis text button (취소 → 링크형) */
    background: transparent;
    color: #007aff;
    padding: 8px 10px;
    border-radius: 8px;
}
.button.tertiary:hover { 
    color: #005ecb; 
    background: transparent; 
    text-decoration: underline;
    transform: none;
}

/* Focus-visible for keyboard users */
.button:focus-visible, a:focus-visible, .upload-component:focus-visible {
    outline: 3px solid #4a9eff;
    outline-offset: 2px;
}
body.dark-theme-active .button:focus-visible, 
body.dark-theme-active a:focus-visible, 
body.dark-theme-active .upload-component:focus-visible {
    outline: 3px solid #66b3ff !important;
}

/* Disabled state and minimum hit area */
.button[disabled], .button.disabled {
    opacity: 0.6;
    cursor: not-allowed;
}
.button, .upload-component, .Select-control, input, .dash-table-container {
    min-height: 44px; /* WCAG target size guideline */
}

/* Skip link for keyboard users */
.skip-link {
    position: absolute;
    left: -9999px;
    top: auto;
    width: 1px;
    height: 1px;
    overflow: hidden;
}
.skip-link:focus {
    left: 20px;
    top: 20px;
    width: auto;
    height: auto;
    padding: 8px 12px;
    background: #007aff;
    color: #fff;
    border-radius: 6px;
    z-index: 1000;
}

/* Text hierarchy utilities */
.text-title { font-size: 1.25rem; font-weight: 700; }
.text-subtitle { font-size: 1.1rem; font-weight: 600; color: #6e6e73; }
.text-muted { color: #6e6e73; }
body.dark-theme-active .text-subtitle { color: #a0a0a5; }
body.dark-theme-active .text-muted { color: #a0a0a5; }

/* Minimum contrast backgrounds for cards/inputs ensured via existing colors.
   Buttons: primary (#007aff on #fff) contrast ≈ 4.6:1; 
   Dark mode primary hover keeps > 4.5:1 against #1c1c1e.
*/

/* Specific styling for collapse buttons */
#absence-collapse-button, #absence-viz-toggle {
    background-color: transparent !important;
    border: none !important;
    color: #6e6e73 !important;
    padding: 4px 8px !important;
    font-size: 0.9em !important;
    font-weight: 500 !important;
    cursor: pointer !important;
    transition: all 0.2s ease !important;
    text-decoration: none !important;
    display: inline-block !important;
}

#absence-collapse-button:hover, #absence-viz-toggle:hover {
    background-color: #f2f2f7 !important;
    color: #007aff !important;
}

/* Dark theme for collapse buttons */
body.dark-theme-active #absence-collapse-button,
body.dark-theme-active #absence-viz-toggle {
    color: #a0a0a5 !important;
}

body.dark-theme-active #absence-collapse-button:hover,
body.dark-theme-active #absence-viz-toggle:hover {
    background-color: #2c2c2e !important;
    color: #4a9eff !important;
}

/* Upload component style */
#upload-data {
    background-color: #f2f2f7;
    border: 2px dashed #d1d1d6;
    border-radius: 10px;
    padding: 20px;
    text-align: center;
    margin-bottom: 30px;
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

body.dark-theme-active #upload-data {
    background-color: #2c2c2e;
    border-color: #555555;
}

#upload-data > div { 
    color: #6e6e73;
    font-weight: 500;
}

body.dark-theme-active #upload-data > div {
     color: #a0a0a5;
}

#upload-data a { 
    color: #007aff;
    font-weight: 600;
    text-decoration: none;
}

/* Upload link doesn't need dark theme override, it's already blue */
/* #upload-data a:hover { ... } */

/* JSON Upload component style - Enhanced hover effects */
#upload-integrated-data,
#upload-absence-data {
    background-color: #f8f9fa;
    border: 2px dashed #007aff;
    border-radius: 12px;
    padding: 0;
    text-align: center;
    margin-bottom: 20px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    position: relative;
    overflow: hidden;
    width: 100%;
    box-sizing: border-box;
    display: block;
    min-height: 80px;
    /* Ensure the entire area is clickable */
    pointer-events: auto;
}

/* Inner content area with padding */
#upload-integrated-data > div,
#upload-absence-data > div {
    padding: 25px;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    min-height: 80px;
}

#upload-integrated-data::before,
#upload-absence-data::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(0, 122, 255, 0.1), transparent);
    transition: left 0.6s ease;
    pointer-events: none;
    z-index: 1;
}

#upload-integrated-data:hover,
#upload-absence-data:hover {
    background-color: #e3f2fd;
    border-color: #0056b3;
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0, 122, 255, 0.15);
}

#upload-integrated-data:hover::before,
#upload-absence-data:hover::before {
    left: 100%;
}


#upload-integrated-data:active,
#upload-absence-data:active {
    transform: translateY(0);
    box-shadow: 0 4px 15px rgba(0, 122, 255, 0.2);
}

/* Dark theme for JSON upload */
body.dark-theme-active #upload-integrated-data,
body.dark-theme-active #upload-absence-data {
    background-color: #2c2c2e !important;
    border-color: #555555 !important;
    color: #e0e0e0 !important;
}

body.dark-theme-active #upload-integrated-data:hover,
body.dark-theme-active #upload-absence-data:hover {
    background-color: #3a3a3c !important;
    border-color: #666666 !important;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3) !important;
}


body.dark-theme-active #upload-integrated-data::before,
body.dark-theme-active #upload-absence-data::before {
    display: none !important;
}


/* JSON upload text styling */
#upload-integrated-data > div,
#upload-absence-data > div { 
    color: #007aff !important;
    font-weight: 600;
    font-size: 1.1em;
    transition: color 0.3s ease;
    position: relative;
    z-index: 2;
    pointer-events: auto;
}

body.dark-theme-active #upload-integrated-data > div,
body.dark-theme-active #upload-absence-data > div {
    color: #e0e0e0 !important; /* layout props already set in base rule */
}

#upload-integrated-data:hover > div,
#upload-absence-data:hover > div {
    color: #0056b3 !important;
}

body.dark-theme-active #upload-integrated-data:hover > div,
body.dark-theme-active #upload-absence-data:hover > div {
    color: #ffffff !important;
}

#upload-integrated-data a,
#upload-absence-data a { 
    color: #0056b3 !important;
    font-weight: 700;
    text-decoration: none;
    transition: color 0.3s ease;
    position: relative;
    z-index: 2;
    pointer-events: auto;
}

body.dark-theme-active #upload-integrated-data a,
body.dark-theme-active #upload-absence-data a {
    color: #4a9eff !important;
}

#upload-integrated-data a:hover,
#upload-absence-data a:hover {
    color: #003d82 !important;
    text-decoration: underline;
}

body.dark-theme-active #upload-integrated-data a:hover,
body.dark-theme-active #upload-absence-data a:hover {
    color: #66b3ff !important;
}

/* Ensure the entire upload area is clickable (defined in base styles above) */

/* Upload wrapper */
.upload-component {
    width: 100%;
    height: 100%;
    position: relative;
    cursor: pointer;
}

/* Ensure upload area is always clickable */
.dash-uploader {
    cursor: pointer !important;
}

/* Specific element adjustments */
#save-status {
    display: inline-block;
    margin-left: 15px;
    font-weight: 500;
    color: #28a745; /* Default success color (light theme) */
}

body.dark-theme-active #save-status {
   color: #7fcc7f; /* Lighter green for dark mode */
}

/* DataTable styles will be handled by callbacks based on theme data */

/* DataTable specific adjustments - will be refined in Python callbacks */

/* --- Dark Mode Dropdown Styles (Using correct class) --- */
body.dark-theme-active .Select-menu-outer {
    background-color: #2a2a2c; /* Slightly adjusted menu background */
    border: 1px solid #444444;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

body.dark-theme-active .Select-control {
    background-color: #1c1c1e; /* Match card background - kept same */
    border: 1px solid #444444;
}

body.dark-theme-active .Select-value-label, 
body.dark-theme-active .Select-placeholder, 
body.dark-theme-active .Select input {
    color: #e0e0e0;
}

/* Style for individual options in dark mode */
body.dark-theme-active .Select-option {
    background-color: #2a2a2c; /* Match menu background */
    color: #e0e0e0;
    padding: 8px 12px;
}

/* Style for focused/hovered option in dark mode */
body.dark-theme-active .Select-option.is-focused {
    background-color: #404042; /* Slightly darker hover */
    color: #ffffff;
}

/* Style for selected option in dark mode */
body.dark-theme-active .Select-option.is-selected {
    background-color: #38383a; /* Slightly adjusted selected */
    color: #ffffff;
}

/* Adjust multi-select value wrapper styles */
body.dark-theme-active .Select--multi .Select-value {
    background-color: #333333; /* Darker background for selected value tags */
    border: 1px solid #48484a; /* Adjusted border */
    color: #e0e0e0; /* Keep light text */
}

/* Adjust multi-select clear icon color */
body.dark-theme-active .Select--multi .Select-value-icon {
    border-right: 1px solid #48484a; /* Match value tag border */
    color: #a0a0a0;
}
body.dark-theme-active .Select--multi .Select-value-icon:hover {
    background-color: #48484a;
    color: #ffffff;
}

/* Arrow color */
body.dark-theme-active .Select-arrow {
    border-color: #e0e0e0 transparent transparent;
}
body.dark-theme-active .Select-arrow-zone:hover > .Select-arrow {
    border-top-color: #ffffff;
}

/* --- DataTable 다크모드 스타일 추가 --- */
body.dark-theme-active .dash-table-container .dash-spreadsheet-container table {
    background-color: #1c1c1e !important;
    color: #e0e0e0 !important;
}

body.dark-theme-active .dash-table-container .dash-header {
    background-color: #333333 !important;
    color: #e0e0e0 !important;
    border-bottom: 1px solid #444444 !important;
}

body.dark-theme-active .dash-table-container .dash-cell {
    background-color: #1c1c1e !important;
    border: 1px solid #444444 !important;
    color: #e0e0e0 !important;
}

/* Make sure explicit background/color in cell styles don't override */
body.dark-theme-active .dash-table-container .dash-cell:not([style*="background-color"]) {
    background-color: #1c1c1e !important;
}
body.dark-theme-active .dash-table-container .dash-cell:not([style*="color"]) {
    color: #e0e0e0 !important;
}

body.dark-theme-active .dash-table-container .dash-filter input {
    background-color: #2c2c2e !important;
    color: #e0e0e0 !important;
    border: 1px solid #444444 !important;
}

/* Style for buttons and upload area in dark mode */
body.dark-theme-active button,
body.dark-theme-active .dash-uploader {
    background-color: #333333 !important;
    border: 1px solid #555555 !important;
    color: #e0e0e0 !important;
}

body.dark-theme-active button:hover {
    background-color: #404040 !important;
}

/* Plotly graph background */
body.dark-theme-active .plotly-graph-div {
    background-color: #1c1c1e !important;
}

/* DatePicker 다크모드 스타일 */
body.dark-theme-active .DateInput_input {
    background-color: #1c1c1e !important;
    color: #e0e0e0 !important;
    border: 1px solid #444444 !important;
}

body.dark-theme-active .DateInput_input:focus {
    background-color: #2c2c2e !important;
    border-color: #007aff !important;
}

body.dark-theme-active .DateRangePickerInput {
    background-color: #1c1c1e !important;
    border: 1px solid #444444 !important;
}

/* Input 필드 다크모드 스타일 */
body.dark-theme-active input[type="text"],
body.dark-theme-active input[type="number"],
body.dark-theme-active textarea {
    background-color: #1c1c1e !important;
    color: #e0e0e0 !important;
    border: 1px solid #444444 !important;
}

body.dark-theme-active input[type="text"]:focus,
body.dark-theme-active input[type="number"]:focus,
body.dark-theme-active textarea:focus {
    background-color: #2c2c2e !important;
    border-color: #007aff !important;
    outline: none !important;
}

/* BooleanSwitch 다크모드 스타일 */
body.dark-theme-active .daq-booleanswitch {
    color: #e0e0e0 !important;
}

body.dark-theme-active .daq-booleanswitch .switch {
    background-color: #444444 !important;
}

body.dark-theme-active .daq-booleanswitch .switch.checked {
    background-color: #007aff !important;
}

/* Label 다크모드 스타일 */
body.dark-theme-active label {
    color: #e0e0e0 !important;
}

/* Hr 다크모드 스타일 */
body.dark-theme-active hr {
    border-top: 1px solid #333333 !important;
}

/* Link 다크모드 스타일 */
body.dark-theme-active a {
    color: #4a9eff !important;
}

body.dark-theme-active a:hover {
    color: #66b3ff !important;
}


/* --- 추가 다크모드 스타일 --- */

/* 기본 메시지 스타일 (라이트 모드) */
.success-message {
    color: #28a745;
}

.error-message {
    color: #dc3545;
}

.warning-message {
    color: #ffc107;
}

/* 다크모드에서 메시지 스타일 */
body.dark-theme-active .success-message {
    color: #7fcc7f !important;
}

body.dark-theme-active .error-message {
    color: #ff8080 !important;
}

body.dark-theme-active .warning-message {
    color: #ffcc80 !important;
}

/* Upload 컴포넌트 다크모드 스타일 개선 */
body.dark-theme-active .dash-uploader {
    background-color: #2c2c2e !important;
    border-color: #555555 !important;
    color: #e0e0e0 !important;
}

body.dark-theme-active .dash-uploader:hover {
    background-color: #3a3a3c !important;
    border-color: #666666 !important;
}

/* JSON 업로드 컴포넌트 다크모드 스타일 */
body.dark-theme-active .upload-component {
    background-color: #2c2c2e !important;
    border-color: #555555 !important;
    color: #e0e0e0 !important;
}

body.dark-theme-active .upload-component:hover {
    background-color: #3a3a3c !important;
    border-color: #666666 !important;
}

body.dark-theme-active .upload-button-text {
    color: #e0e0e0 !important;
}

body.dark-theme-active .upload-button-text a {
    color: #4a9eff !important;
}

body.dark-theme-active .upload-button-text a:hover {
    color: #66b3ff !important;
}

/* Table pagination 다크모드 스타일 */
body.dark-theme-active .dash-table-container .dash-pagination {
    background-color: #1c1c1e !important;
    color: #e0e0e0 !important;
}

body.dark-theme-active .dash-table-container .dash-pagination .dash-pagination-button {
    background-color: #333333 !important;
    color: #e0e0e0 !important;
    border: 1px solid #444444 !important;
}

body.dark-theme-active .dash-table-container .dash-pagination .dash-pagination-button:hover {
    background-color: #404040 !important;
}

body.dark-theme-active .dash-table-container .dash-pagination .dash-pagination-button.current {
    background-color: #007aff !important;
    color: #ffffff !important;
}

/* Table sorting 다크모드 스타일 */
body.dark-theme-active .dash-table-container .dash-header .dash-header-cell {
    background-color: #333333 !important;
    color: #e0e0e0 !important;
}

body.dark-theme-active .dash-table-container .dash-header .dash-header-cell:hover {
    background-color: #404040 !important;
}

/* Table row hover 다크모드 스타일 */
body.dark-theme-active .dash-table-container .dash-cell:hover {
    background-color: #2c2c2e !important;
}

/* Table selection 다크모드 스타일 */
body.dark-theme-active .dash-table-container .dash-cell.selected {
    background-color: #007aff !important;
    color: #ffffff !important;
}

/* Table filter 다크모드 스타일 */
body.dark-theme-active .dash-table-container .dash-filter {
    background-color: #1c1c1e !important;
    border: 1px solid #444444 !important;
}

/* Tooltip 다크모드 스타일 */
body.dark-theme-active .dash-tooltip {
    background-color: #2c2c2e !important;
    color: #e0e0e0 !important;
    border: 1px solid #444444 !important;
}

/* Loading spinner 다크모드 스타일 */
body.dark-theme-active .dash-loading {
    color: #e0e0e0 !important;
}

/* Modal 다크모드 스타일 */
body.dark-theme-active .modal-content {
    background-color: #1c1c1e !important;
    color: #e0e0e0 !important;
    border: 1px solid #444444 !important;
}

body.dark-theme-active .modal-header {
    background-color: #333333 !important;
    border-bottom: 1px solid #444444 !important;
}

body.dark-theme-active .modal-footer {
    background-color: #333333 !important;
    border-top: 1px solid #444444 !important;
}

/* Alert 다크모드 스타일 */
body.dark-theme-active .alert {
    background-color: #2c2c2e !important;
    color: #e0e0e0 !important;
    border: 1px solid #444444 !important;
}

body.dark-theme-active .alert-success {
    background-color: #1e3a1e !important;
    color: #7fcc7f !important;
    border-color: #28a745 !important;
}

body.dark-theme-active .alert-danger {
    background-color: #3a1e1e !important;
    color: #ff8080 !important;
    border-color: #dc3545 !important;
}

body.dark-theme-active .alert-warning {
    background-color: #3a2e1e !important;
    color: #ffcc80 !important;
    border-color: #ffc107 !important;
}

/* Progress bar 다크모드 스타일 */
body.dark-theme-active .progress {
    background-color: #2c2c2e !important;
}

body.dark-theme-active .progress-bar {
    background-color: #007aff !important;
}

/* Badge 다크모드 스타일 */
body.dark-theme-active .badge {
    background-color: #007aff !important;
    color: #ffffff !important;
}

/* Card 다크모드 스타일 개선 */
body.dark-theme-active .card {
    background-color: #1c1c1e !important;
    border: 1px solid #333333 !important;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3) !important;
}

/* Collapse content 다크모드 스타일 */
body.dark-theme-active .collapse-content {
    background-color: transparent !important;
}

/* Viz compact card 다크모드 스타일 */
body.dark-theme-active .viz-compact-card {
    background-color: #1c1c1e !important;
    border: 1px solid #333333 !important;
}

/* JSON 업로드 섹션 스타일 */
.json-upload-section {
    margin-top: 20px;
    padding: 15px;
    border: 1px dashed #d1d1d6;
    border-radius: 5px;
    background-color: #f9f9f9;
    transition: background-color 0.3s ease, border-color 0.3s ease;
}

body.dark-theme-active .json-upload-section {
    background-color: #2c2c2e !important;
    border-color: #555555 !important;
}

/* JSON 업로드 섹션 제목 스타일 */
.json-upload-title {
    margin-top: 0;
    margin-bottom: 10px;
    color: #1d1d1f;
}

body.dark-theme-active .json-upload-title {
    color: #e0e0e0 !important;
}

/* Ensure all child elements are clickable */
#upload-integrated-data *,
#upload-absence-data * {
    pointer-events: auto !important;
    cursor: pointer !important;
}

/* === 탭 스타일 (엑셀 시트 이동과 비슷한 디자인) === */

/* 탭 컨테이너 */
.custom-tabs {
    margin-top: 20px;
    margin-bottom: 0;
    border-bottom: 2px solid #e0e0e0;
    background: transparent;
    position: relative;
}

body.dark-theme-active .custom-tabs {
    border-bottom-color: #444444 !important;
}

/* 탭 라벨 스타일 */
.custom-tabs .tab {
    background: #f5f5f7 !important;
    color: #6e6e73 !important;
    border: 1px solid #d1d1d6 !important;
    border-bottom: none !important;
    border-radius: 8px 8px 0 0 !important;
    padding: 12px 24px !important;
    margin-right: 2px !important;
    font-weight: 500 !important;
    font-size: 1em !important;
    cursor: pointer !important;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
    position: relative !important;
    top: 1px !important;
    display: inline-flex !important;
    align-items: center !important;
    min-height: 44px !important;
    user-select: none !important;
    outline: none !important;
    text-decoration: none !important;
}

/* 탭 호버 효과 */
.custom-tabs .tab:hover {
    background: #e8e8ed !important;
    color: #007aff !important;
    transform: scale(1.02) !important;
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* 활성 탭 */
.custom-tabs .tab--selected {
    background: #ffffff !important;
    color: #007aff !important;
    border-color: #007aff !important;
    font-weight: 600 !important;
    z-index: 10 !important;
    box-shadow: 0 -2px 8px rgba(0, 122, 255, 0.1) !important;
}

.custom-tabs .tab--selected:hover {
    transform: none !important;
    background: #ffffff !important;
}

/* 다크 모드 탭 스타일 */
body.dark-theme-active .custom-tabs .tab {
    background: #2c2c2e !important;
    color: #a0a0a5 !important;
    border-color: #444444 !important;
}

body.dark-theme-active .custom-tabs .tab:hover {
    background: #3a3a3c !important;
    color: #4a9eff !important;
    transform: scale(1.02) !important;
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

body.dark-theme-active .custom-tabs .tab--selected {
    background: #1c1c1e !important;
    color: #4a9eff !important;
    border-color: #4a9eff !important;
    box-shadow: 0 -2px 8px rgba(74, 158, 255, 0.15) !important;
}

body.dark-theme-active .custom-tabs .tab--selected:hover {
    background: #1c1c1e !important;
}

/* 탭 콘텐츠 영역 */
.tab-content {
    padding: 30px 0 0 0;
    background: transparent;
    border: none;
    min-height: 400px;
}

/* 탭 콘텐츠 카드 스타일 재정의 */
.tab-content .card {
    animation: fadeInUp 0.4s ease-out;
    transform-origin: top;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* 탭 포커스 스타일 */
.custom-tabs .tab:focus-visible {
    outline: 3px solid #4a9eff !important;
    outline-offset: 2px !important;
    border-radius: 8px 8px 0 0 !important;
}

body.dark-theme-active .custom-tabs .tab:focus-visible {
    outline: 3px solid #66b3ff !important;
}

/* 탭 비활성화 상태 */
.custom-tabs .tab:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none !important;
}

.custom-tabs .tab:disabled:hover {
    background: #f5f5f7 !important;
    color: #6e6e73 !important;
    transform: none !important;
    box-shadow: none !important;
}

body.dark-theme-active .custom-tabs .tab:disabled:hover {
    background: #2c2c2e !important;
    color: #a0a0a5 !important;
}

/* 탭 컨테이너 래퍼 */
.custom-tabs .tabs-wrapper {
    display: flex;
    align-items: flex-end;
    overflow-x: auto;
}

/* 모바일 대응 */
@media (max-width: 768px) {
    .custom-tabs .tab {
        padding: 10px 16px !important;
        font-size: 0.9em !important;
        margin-right: 1px !important;
    }
    
    .tab-content {
        padding: 20px 0 0 0;
    }
}

/* 탭 전환 애니메이션 */
.custom-tabs .tab-content-wrapper {
    position: relative;
    overflow: hidden;
}

.custom-tabs .tab-content-entering {
    animation: slideInRight 0.3s ease-out;
}

.custom-tabs .tab-content-exiting {
    animation: slideOutLeft 0.3s ease-out;
}

@keyframes slideInRight {
    from {
        opacity: 0;
        transform: translateX(30px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

@keyframes slideOutLeft {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(-30px);
    }
}

/* 팀원 카드 스타일 */
.team-member-card {
    transition: all 0.3s ease;
}

.team-member-card:hover {
    transform: scale(1.01);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

body.dark-theme-active .team-member-card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
}

/* 슬라이더 다크모드 스타일 */
body.dark-theme-active .rc-slider {
    background-color: #444444 !important;
}

body.dark-theme-active .rc-slider-track {
    background-color: #007aff !important;
}

body.dark-theme-active .rc-slider-handle {
    border-color: #007aff !important;
    background-color: #ffffff !important;
}

body.dark-theme-active .rc-slider-step {
    background-color: #444444 !important;
}

body.dark-theme-active .rc-slider-mark-text {
    color: #e0e0e0 !important;
}

/* 툴팁 다크모드 스타일 */
body.dark-theme-active .rc-tooltip {
    background-color: #2c2c2e !important;
    color: #e0e0e0 !important;
    border: 1px solid #444444 !important;
}

body.dark-theme-active .rc-tooltip-arrow {
    border-top-color: #2c2c2e !important;
}

/* === 모던 팀원 관리 스타일 === */

/* 매그니피센트7 카드 스타일 - 강렬하고 직선적 */
.modern-card {
    background: #ffffff;
    border: 3px solid #2c2c2c;
    border-radius: 0;
    box-shadow: 4px 4px 0 rgba(0, 0, 0, 0.2);
    position: relative;
    overflow: hidden;
}

.modern-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: #2c2c2c;
    opacity: 1;
}

body.dark-theme-active .modern-card {
    background: #1a1a1a;
    border-color: #666666;
    box-shadow: 4px 4px 0 rgba(255, 255, 255, 0.1);
}

body.dark-theme-active .modern-card::before {
    background: #666666;
}

/* 입력 그룹 스타일 */
.input-group {
    margin-bottom: 20px;
    position: relative;
}

/* 애플식 정렬: 입력/토글/버튼 수평 라인 정렬 */
.form-row {
    display: grid;
    grid-template-columns: 1fr auto auto; /* 입력창 - 토글 - 삭제 버튼 */
    gap: 12px;
    align-items: center; /* 수직 중앙 정렬 */
}

/* 좁은 화면에서는 세로 스택 */
@media (max-width: 768px) {
    .form-row {
        grid-template-columns: 1fr; /* 단일 컬럼 */
        gap: 10px;
    }
}

.input-label {
    display: block;
    font-weight: 600;
    font-size: 14px;
    color: #1d1d1f;
    margin-bottom: 8px;
    letter-spacing: 0.02em;
    transition: color 0.3s ease;
}

body.dark-theme-active .input-label {
    color: #e0e0e0;
}

.modern-input, .modern-textarea {
    width: 100%;
    padding: 10px 12px;
    border: 1px solid #D1D1D6; /* 연한 회색 iOS 분리선 */
    border-radius: 12px; /* 라운드 처리 */
    font-size: 14px;
    font-weight: 400;
    background: #ffffff;
    color: #1a1a1a;
    outline: none;
    box-shadow: none;
}

.modern-input:focus, .modern-textarea:focus {
    border-color: #007aff; /* iOS 파랑 포커스 */
    box-shadow: 0 0 0 3px rgba(0,122,255,0.15);
}

body.dark-theme-active .modern-input,
body.dark-theme-active .modern-textarea {
    background: #1c1c1e;
    border-color: #2C2C2E;
    color: #e0e0e0;
    box-shadow: none;
}

body.dark-theme-active .modern-input:focus,
body.dark-theme-active .modern-textarea:focus {
    border-color: #4a9eff;
    box-shadow: 0 0 0 3px rgba(74,158,255,0.2);
}

/* 토글 그룹 스타일 */
.toggle-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.toggle-container {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    background: #f8f9fa;
    border-radius: 12px;
    border: 2px solid #e5e5ea;
    transition: all 0.3s ease;
}

.toggle-container:hover {
    background: #f0f0f0;
    border-color: #d1d1d6;
    transform: scale(1.01);
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

body.dark-theme-active .toggle-container {
    background: #2c2c2e;
    border-color: #48484a;
}

body.dark-theme-active .toggle-container:hover {
    background: #3a3a3c;
    border-color: #555555;
    transform: scale(1.01);
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.toggle-description {
    font-size: 14px;
    font-weight: 500;
    color: #6e6e73;
    user-select: none;
}

body.dark-theme-active .toggle-description {
    color: #a0a0a5;
}

/* 매그니피센트7 버튼 스타일 - 강렬하고 각진 */
.modern-button {
    padding: 10px 20px;
    font-size: 14px;
    font-weight: 700;
    border-radius: 0;
    border: 2px solid #333333;
    background: #f0f0f0;
    color: #1a1a1a;
    text-transform: uppercase;
    letter-spacing: 1px;
    box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.3);
    cursor: pointer;
}

.modern-button:hover {
    background: #e0e0e0;
    box-shadow: 3px 3px 0 rgba(0, 0, 0, 0.4);
}

.modern-button.primary {
    background: #333333;
    color: #ffffff;
    border-color: #333333;
}

.modern-button.primary:hover {
    background: #222222;
}

.modern-button.secondary {
    background: transparent;
    color: #333333;
    border-color: #333333;
}

.modern-button.secondary:hover {
    background: #333333;
    color: #ffffff;
}

.modern-button.tertiary {
    background: transparent;
    color: #666666;
    border-color: #666666;
    border-width: 1px;
}

.modern-button.tertiary:hover {
    background: #666666;
    color: #ffffff;
}

/* 다크 모드 버튼 스타일 */
body.dark-theme-active .modern-button {
    background: #2a2a2a;
    color: #e0e0e0;
    border-color: #666666;
    box-shadow: 2px 2px 0 rgba(255, 255, 255, 0.1);
}

body.dark-theme-active .modern-button:hover {
    background: #3a3a3a;
    box-shadow: 3px 3px 0 rgba(255, 255, 255, 0.2);
}

body.dark-theme-active .modern-button.primary {
    background: #666666;
    color: #ffffff;
    border-color: #666666;
}

body.dark-theme-active .modern-button.primary:hover {
    background: #777777;
}

body.dark-theme-active .modern-button.secondary {
    background: transparent;
    color: #e0e0e0;
    border-color: #666666;
}

body.dark-theme-active .modern-button.secondary:hover {
    background: #666666;
    color: #ffffff;
}

body.dark-theme-active .modern-button.tertiary {
    background: transparent;
    color: #999999;
    border-color: #555555;
}

body.dark-theme-active .modern-button.tertiary:hover {
    background: #555555;
    color: #ffffff;
}

/* 팀원 카드 모던 스타일 */
.modern-member-card {
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
    border: 1px solid rgba(0, 0, 0, 0.05);
    border-radius: 18px;
    position: relative;
    overflow: hidden;
    backdrop-filter: blur(10px);
}

.modern-member-card::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: 18px;
    padding: 1px;
    background: linear-gradient(135deg, rgba(0, 122, 255, 0.1), rgba(74, 158, 255, 0.05));
    mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.modern-member-card:hover {
    transform: scale(1.005);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

body.dark-theme-active .modern-member-card:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

body.dark-theme-active .modern-member-card {
    background: linear-gradient(135deg, #1c1c1e 0%, #2c2c2e 100%);
    border-color: rgba(255, 255, 255, 0.08);
}

body.dark-theme-active .modern-member-card::after {
    background: linear-gradient(135deg, rgba(74, 158, 255, 0.2), rgba(102, 179, 255, 0.1));
}

/* 상태 배지 스타일 */
.status-badge {
    position: relative;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { opacity: 1; }
    50% { opacity: 0.8; }
    100% { opacity: 1; }
}

/* 아이콘 버튼 스타일 */
.icon-button {
    min-width: 40px;
    min-height: 40px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.icon-button::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transition: all 0.3s ease;
    transform: translate(-50%, -50%);
}

.icon-button:hover::before {
    width: 100%;
    height: 100%;
}

.icon-button:active {
    transform: scale(0.95);
}

/* 토글 미니 스타일 */
.toggle-mini {
    padding: 4px;
    border-radius: 8px;
    background: rgba(0, 122, 255, 0.05);
    transition: all 0.3s ease;
}

body.dark-theme-active .toggle-mini {
    background: rgba(74, 158, 255, 0.1);
}

/* 멤버 정보 영역 */
.member-info {
    position: relative;
}

.member-memo {
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.member-memo:hover {
    color: #007aff;
}

body.dark-theme-active .member-memo:hover {
    color: #4a9eff;
}

/* 반응형 개선 */
@media (max-width: 768px) {
    .modern-member-card {
        flex-direction: column;
        align-items: stretch;
        gap: 16px;
    }
    
    .member-actions {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
    }
    
    .toggle-mini {
        margin-bottom: 0 !important;
    }
    
    .modern-card {
        padding: 16px;
        margin-bottom: 16px;
    }
    
    .modern-input, .modern-textarea {
        padding: 12px 14px;
    }
}

/* 애니메이션 효과 */
@keyframes slideInUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.modern-member-card {
    animation: slideInUp 0.4s ease-out;
}

/* 로딩 상태 스타일 */
.loading-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: inherit;
    backdrop-filter: blur(2px);
    transition: opacity 0.3s ease;
}

body.dark-theme-active .loading-overlay {
    background: rgba(28, 28, 30, 0.9);
}

/* 다크모드 상태 배지 색상 조정 */
body.dark-theme-active .status-badge[style*="background-color: #e8f5e8"] {
    background-color: #1e3a1e !important;
    color: #7fcc7f !important;
}

body.dark-theme-active .status-badge[style*="background-color: #fff3cd"] {
    background-color: #3a2e1e !important;
    color: #ffcc80 !important;
}

/* 스크롤바 스타일링 */

/* === 편집 모달 스타일 === */

.edit-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    backdrop-filter: blur(4px);
    transition: all 0.3s ease;
}

.edit-modal.hidden {
    opacity: 0;
    visibility: hidden;
    transform: scale(0.9);
}

.edit-modal.visible {
    opacity: 1;
    visibility: visible;
    transform: scale(1);
}

.edit-modal .modal-content {
    max-width: 500px;
    width: 90%;
    max-height: 90vh;
    overflow-y: auto;
    position: relative;
    animation: modalSlideIn 0.3s ease-out;
}

@keyframes modalSlideIn {
    from {
        opacity: 0;
        transform: translateY(-30px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

body.dark-theme-active .edit-modal {
    background: rgba(0, 0, 0, 0.7);
}

/* 모달 닫기 시 애니메이션 */
.edit-modal.hidden .modal-content {
    animation: modalSlideOut 0.3s ease-in;
}

@keyframes modalSlideOut {
    from {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
    to {
        opacity: 0;
        transform: translateY(-30px) scale(0.95);
    }
}

/* 모달 오버레이 클릭 시 닫기 효과 */
.edit-modal::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    cursor: pointer;
}

.edit-modal .modal-content {
    cursor: default;
    z-index: 1;
}

/* 모바일 대응 */
@media (max-width: 768px) {
    .edit-modal .modal-content {
        width: 95%;
        margin: 10px;
    }
} 

/* === 현대적인 팀원 관리 스타일 === */

/* 팀원 관리 폼 그리드 */
.team-form-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin-bottom: 24px;
}

@media (max-width: 768px) {
  .team-form-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }
}

/* 통계 헤더 */
.team-list-meta {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  margin: 0 0 20px 0;
}

.stats-chips {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
}

.count-chip {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 0;
  background: #f0f0f0;
  color: #1d1d1f;
  font-size: 0.85em;
  font-weight: 700;
  border: 2px solid #333333;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

body.dark-theme-active .count-chip {
  background: #2a2a2a !important;
  color: #e0e0e0 !important;
  border-color: #666666 !important;
}

/* 팀원 카드 그리드 */
.team-members-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

@media (max-width: 768px) {
  .team-members-grid {
    grid-template-columns: 1fr;
    gap: 16px;
  }
}

@media (min-width: 1200px) {
  .team-members-grid {
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
  }
}

/* 매그니피센트7 스타일 팀원 카드 - 강렬하고 실용적 */
.modern-member-card {
  background: #fbfbfd; /* 라이트 그레이 톤 배경 */
  border: none; /* 테두리 제거 */
  border-radius: 14px;
  padding: 20px 18px; /* 상하 여백 살짝 증가 */
  position: relative;
  box-shadow: 0 4px 14px rgba(0,0,0,0.06); /* 미세한 섀도우 */
}

body.dark-theme-active .modern-member-card {
  background: #1c1c1e;
  border: none;
  box-shadow: 0 6px 20px rgba(0,0,0,0.35);
}

/* 카드 내부 구분 라인 (iOS 분리선 색상) */
.modern-member-card .member-actions {
  border-top: 1px solid #D1D1D6;
}
body.dark-theme-active .modern-member-card .member-actions {
  border-top: 1px solid #2C2C2E;
}

/* 멤버 정보 섹션 */
.member-info h5 {
  color: #1d1d1f;
  font-weight: 600;
}

body.dark-theme-active .member-info h5 {
  color: #e0e0e0;
}

/* 상태 배지 */
.status-badge {
  position: relative;
  font-weight: 700;
  letter-spacing: 0.02em;
  border: 1px solid rgba(0, 0, 0, 0.06);
}
@media (prefers-contrast: high) {
  .status-badge { border-width: 2px; }
}

/* 메모 섹션 */
.member-memo-section {
  position: relative;
}

.member-memo {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  position: relative;
}

/* 액션 버튼들 */
.member-actions {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid rgba(0, 0, 0, 0.08);
}

body.dark-theme-active .member-actions {
  border-top-color: rgba(255, 255, 255, 0.1);
}

/* 아이콘 버튼 */
.icon-button {
  min-width: 36px;
  min-height: 32px;
  border-radius: 8px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  font-size: 0.95em;
  cursor: pointer;
}

/* 토글 미니 스타일 - 매그니피센트7 */
.toggle-mini {
  padding: 6px;
  border-radius: 0;
  background: transparent;
  border: none;
  box-shadow: none;
}

body.dark-theme-active .toggle-mini {
  background: transparent;
  border: none;
  box-shadow: none;
}

/* 빈 상태 스타일 */
.empty-state {
  text-align: center;
  padding: 40px 20px;
  color: #6e6e73;
}

body.dark-theme-active .empty-state {
  color: #a0a0a5 !important;
}

/* 빠른 액션 바 */
.quick-actions-bar {
  position: relative;
}

/* 검색 및 필터 영역 */
#search-filter-area {
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  opacity: 0;
  max-height: 0;
  padding: 0 16px;
  margin-bottom: 0;
}

#search-filter-area.expanded {
  opacity: 1;
  max-height: 200px;
  padding: 16px;
  margin-bottom: 16px;
  background: rgba(0, 122, 255, 0.02);
  border-radius: 12px;
  border: 1px dashed rgba(0, 122, 255, 0.2);
}

body.dark-theme-active #search-filter-area.expanded {
  background: rgba(74, 158, 255, 0.05);
  border-color: rgba(74, 158, 255, 0.2);
}

/* 카드 포커스 개선 */
.team-member-card:focus-visible {
  outline: 3px solid #4a9eff;
  outline-offset: 4px;
  border-color: #4a9eff;
}

body.dark-theme-active .team-member-card:focus-visible {
  outline: 3px solid #66b3ff !important;
  border-color: #66b3ff !important;
}

/* 로딩 애니메이션 */
.member-card-loading {
  animation: shimmer 1.5s infinite;
  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
  background-size: 200% 100%;
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

body.dark-theme-active .member-card-loading {
  background: linear-gradient(90deg, #2c2c2e 25%, #3a3a3c 50%, #2c2c2e 75%);
  background-size: 200% 100%;
}

/* 모바일 최적화 */
@media (max-width: 480px) {
  .modern-member-card {
    padding: 16px;
    border-radius: 16px;
  }
  
  .member-actions {
    flex-direction: column;
    gap: 12px;
    align-items: stretch;
  }
  
  .stats-chips {
    justify-content: center;
  }
  
  .count-chip {
    font-size: 0.8em;
    padding: 6px 12px;
  }
  
  .quick-actions-bar {
    flex-direction: column;
    gap: 8px;
    align-items: stretch;
  }
  
  .quick-actions-bar button {
    justify-content: center;
  }
}

/* 터치 친화적 버튼 크기 */
@media (hover: none) and (pointer: coarse) {
  .icon-button, .modern-button {
    min-height: 44px;
    min-width: 44px;
  }
  
  .toggle-mini {
    padding: 12px;
  }
  
  .member-memo {
    -webkit-line-clamp: 2;
    line-clamp: 2;
  }
}

/* 고대비 모드 지원 */
@media (prefers-contrast: high) {
  .modern-member-card {
    border-width: 2px;
    box-shadow: none;
  }
  
  .status-badge {
    border-width: 2px;
  }
  
  .count-chip {
    border-width: 2px;
  }
}

/* 모션 감소 모드 지원 */
@media (prefers-reduced-motion: reduce) {
  .modern-member-card,
  .icon-button,
  .toggle-mini,
  .count-chip {
    transition: none;
    animation: none;
  }
  
  .status-badge {
    animation: none;
  }
  
  .modern-member-card:hover {
    transform: none;
  }
}

/* 미니 통계 카드 - 매그니피센트7 스타일 */
.mini-stat-card {
  border: 2px solid #333333;
  border-radius: 0;
  box-shadow: 2px 2px 0 rgba(0, 0, 0, 0.2);
}

body.dark-theme-active .mini-stat-card {
  border-color: #666666;
  box-shadow: 2px 2px 0 rgba(255, 255, 255, 0.1);
}

/* 검증 메시지 스타일 */
.validation-message.error {
  color: #ef4444;
  font-weight: 500;
}

.validation-message.success {
  color: #22c55e;
  font-weight: 500;
}

.validation-message.warning {
  color: #f59e0b;
  font-weight: 500;
}

body.dark-theme-active .validation-message.error {
  color: #ff8080;
}

body.dark-theme-active .validation-message.success {
  color: #7fcc7f;
}

body.dark-theme-active .validation-message.warning {
  color: #ffcc80;
}

/* 상태 메시지 영역 */
.status-messages {
  min-height: 32px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* 뷰 옵션 버튼들 */
.view-options {
  display: flex;
  gap: 8px;
  align-items: center;
}

.view-options button {
  font-size: 0.85em;
  padding: 6px 12px;
  border-radius: 4px;
}

/* 팀원 통계 그리드 */
.team-stats-grid {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
  justify-content: flex-end;
}

@media (max-width: 768px) {
  .team-stats-grid {
    justify-content: center;
    width: 100%;
    margin-top: 16px;
  }
}

/* 추가적인 반응형 개선 */
@media (max-width: 640px) {
  .team-form-grid {
    grid-template-columns: 1fr;
  }
  
  .stats-chips {
    justify-content: center;
  }
  
  .view-options {
    flex-direction: column;
    gap: 8px;
    align-items: stretch;
  }
  
  .view-options button {
    justify-content: center;
    width: 100%;
  }
} 