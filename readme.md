# 📸 고등부 영상팀 포지션 배정 도우미

단일 사용자(팀장) 환경에서 사용하는 포지션 관리 데스크톱/웹 애플리케이션입니다. 매주 1부, 2부 배정을 빠르고 정확하게 진행하도록 돕는 **보조 도구**이며, 자동 배정 기능 없이 사람이 직접 배정할 때 필요한 정보, 패턴 분석, 경고를 제공합니다.

---

## ✅ 주요 목적

* 팀원의 직무 배정 현황을 직관적으로 파악
* 최근 배정 기록 기반으로 **연속 배정 등 문제 상황을 자동 감지**
* 불참자 정보를 날짜별로 관리하고 배정 과정에 반영
* 팀장이 수작업으로 배정할 때 속도와 정확도를 강화

---

## ✅ 주요 기능

### 1. **실시간 배정 UI (Drag & Drop 중심)**

* 이번 주 1부·2부 배정을 위한 빈 템플릿 제공
* 팀원 목록을 테이블에 드래그하여 배정
* 모든 변경 내용은 즉시 UI에 반영
* 직무 규칙에 따른 경고가 실시간 표시됨

### 2. **포지션 데이터 관리**

* JSON 파일 업로드로 최근/누적 배정 데이터를 불러옴
* 직무 테이블을 직접 수정 가능
* 수정된 데이터는 JSON으로 다운로드하여 백업

### 3. **경고 시스템**

* 자동 배정은 없지만 잘못된 배정은 자동 감지
* 기본 제공 규칙

  * 지난주 동일 직무 연속 배정 감지
  * 자막 직무의 1부·2부 연속 담당 규칙 확인
  * 사이드 직무 2인 배정 여부 확인

### 4. **불참자 관리 (캘린더 기반)**

* 날짜별 불참자(이름 + 이유) 등록 및 조회
* 일요일만 선택 가능한 커스텀 캘린더 제공
* 선택된 날짜의 불참 여부가 배정 페이지에 자동 표시

### 5. **팀원 정보 관리**

* 팀원별 기수 정보를 저장 (낮은 숫자가 더 높은 기수)
* 추후 배정 시 참고 가능

### 6. **데이터 시각화**

* Plotly 기반 직무 통계 시각화 제공
* 제공 예시

  * 팀원별 직무 비율
  * 주차별 직무 변동 추세
  * 누적 직무 편중 분석
  * 불참 패턴 변화
* 모든 그래프는 확대/이동/필터링 가능한 인터랙티브 형태

### 7. **다크 모드 지원**

* 라이트/다크 모드를 즉시 전환 가능

### 8. **로컬 저장소(LocalStorage)**

* 최근 작업 상태를 자동 저장하고 다음 실행 시 복원
* 단일 사용자 환경에 최적화

---

## ✅ JSON 데이터 구조

### ▼ 주차별 저장 구조

```json
{
  "weeks": {
    "2025-11-09": {
      "part1": { "SW": "솔빈", "자막": "영훈", "고정": "조예", "사이드": ["아현", "박예"], "스케치": "영광" },
      "part2": { "SW": "아현", "자막": "영훈", "고정": "지민", "사이드": ["예별", "박예"], "스케치": "솔빈" },
      "absences": [ { "name": "예찬", "reason": "토익시험" } ]
    }
  },
  "members": [
    { "name": "솔빈", "grade": 20 },
    { "name": "영훈", "grade": 25 },
    { "name": "조예", "grade": 21 },
    { "name": "아현", "grade": 20 },
    { "name": "박예", "grade": 20 },
    { "name": "영광", "grade": 25 },
    { "name": "지민", "grade": 23 },
    { "name": "예별", "grade": 23 },
    { "name": "예찬", "grade": 22 }
  ]
}
```

### ▼ 배정 입력 템플릿 구조

```json
{
  "current_week": {
    "part1": {
      "SW": "",
      "자막": "",
      "고정": "",
      "사이드": ["", ""],
      "스케치": ""
    },
    "part2": {
      "SW": "",
      "자막": "",
      "고정": "",
      "사이드": ["", ""],
      "스케치": ""
    }
  }
}
```

### 구조 특징

* 하나의 주에 필요한 모든 정보가 한 번에 저장됨
* 경고 시스템은 직전 주 데이터를 기준으로 연속 배정 여부 판단
* "5개 직무 × 2부 + 불참자 목록"의 일관된 저장 형태

---

## ✅ 기술 스택 (최적화된 최신 구조)

본 프로젝트는 향후 **고급 UI 구성**, **복잡한 상호작용**, **기능 확장**을 고려하여 다음과 같은 구조를 채택합니다.

### ✅ 프론트엔드 (주력 레이어)

**React + TypeScript**

* 고급 드래그 앤 드롭 지원
* 상태관리 용이
* UI 확장성 우수

**Tauri (또는 Electron)**

* 완전한 로컬 앱 실행
* 서버 없이 파일 입출력 가능
* Python 모듈과 직접 연동 가능

**Plotly.js**

* 직무 통계 시각화
* React와 자연스럽게 연동

**FullCalendar (React 버전)**

* 일요일만 선택 가능한 캘린더 UI
* 이벤트 기반 확장성 높음

**Custom CSS**

* 다크 모드 및 직무 테이블 스타일링

---

## ✅ Python 분석 모듈

프론트엔드와 분리된 독립 모듈로 구성되며 다음을 담당합니다:

* JSON 구조 유효성 검사
* 최근 주차 배정 분석
* 연속 배정·규칙 위반 감지
* 누적 통계 계산
* 파일 저장/로드 보조 처리

프론트엔드는 Tauri(Electron)를 통해 로컬 Python 코드를 직접 실행합니다.
따라서 **FastAPI/Flask 서버는 필요하지 않습니다**.

---

## ✅ 설치 / 실행

### 1. 저장소 클론

```bash
git clone https://github.com/your-username/position-helper.git
cd position-helper
```

### 2. 의존성 설치

프론트엔드

```bash
npm install
```

Python 모듈

```bash
pip install -r requirements.txt
```

### 3. 실행

```bash
npm run tauri dev
```

(Tauri 대신 Electron 사용 시 npm dev 스크립트에 따름)

---

## ✅ 사용 흐름

1. JSON 파일 업로드
2. 이번 주 불참자 확인
3. 1부·2부 직무 배정 (드래그 앤 드롭)
4. 경고 표시 확인
5. 통계 그래프 참고 후 조정
6. 완성된 주차 데이터를 JSON으로 저장

---

## ✅ 향후 확장 계획

* 복잡한 경고 규칙 추가 (예: 특정 직무 쏠림 방지)
* 팀원별 역할 점수 기반 추천
* 모바일 레이아웃 최적화
* 사용자 규칙 추가 기능
* 연도별 백업 자동 관리

---

## ✅ 라이선스

개인 및 교회 내부 사용을 목적으로 제작된 비공개 프로젝트입니다.

---

## ✅ 기여

버그 제보 및 기능 제안은 언제든 환영합니다.